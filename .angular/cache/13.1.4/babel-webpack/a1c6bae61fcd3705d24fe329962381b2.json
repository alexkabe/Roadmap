{"ast":null,"code":"import _asyncToGenerator from \"/home/alex/Documents/Projets/Roadmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../database\";\nexport class CanActivateTeamGuard {\n  constructor(router, database) {\n    this.router = router;\n    this.database = database;\n    this.user = this.database.user;\n  }\n\n  canActivate() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let tag = yield _this.database.isLoggedIn(_this.user).subscribe(val => {\n        console.log(val);\n      });\n\n      if (tag) {\n        return true;\n      } else {\n        // this.router.navigate(['team'])\n        return false;\n      }\n    })();\n  }\n\n}\n\nCanActivateTeamGuard.ɵfac = function CanActivateTeamGuard_Factory(t) {\n  return new (t || CanActivateTeamGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.DataBase));\n};\n\nCanActivateTeamGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CanActivateTeamGuard,\n  factory: CanActivateTeamGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/alex/Documents/Projets/Roadmap/src/app/services/authentification/can-activate-team.guard.ts"],"names":["i0","i1","i2","CanActivateTeamGuard","constructor","router","database","user","canActivate","tag","isLoggedIn","subscribe","val","console","log","ɵfac","CanActivateTeamGuard_Factory","t","ɵɵinject","Router","DataBase","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,aAApB;AACA,OAAO,MAAMC,oBAAN,CAA2B;AAC9BC,EAAAA,WAAW,CAACC,MAAD,EAASC,QAAT,EAAmB;AAC1B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,IAAL,GAAY,KAAKD,QAAL,CAAcC,IAA1B;AACH;;AACKC,EAAAA,WAAW,GAAG;AAAA;;AAAA;AAChB,UAAIC,GAAG,SAAS,KAAI,CAACH,QAAL,CAAcI,UAAd,CAAyB,KAAI,CAACH,IAA9B,EAAoCI,SAApC,CAA8CC,GAAG,IAAI;AACjEC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OAFe,CAAhB;;AAGA,UAAIH,GAAJ,EAAS;AACL,eAAO,IAAP;AACH,OAFD,MAGK;AACD;AACA,eAAO,KAAP;AACH;AAVe;AAWnB;;AAjB6B;;AAmBlCN,oBAAoB,CAACY,IAArB,GAA4B,SAASC,4BAAT,CAAsCC,CAAtC,EAAyC;AAAE,SAAO,KAAKA,CAAC,IAAId,oBAAV,EAAgCH,EAAE,CAACkB,QAAH,CAAYjB,EAAE,CAACkB,MAAf,CAAhC,EAAwDnB,EAAE,CAACkB,QAAH,CAAYhB,EAAE,CAACkB,QAAf,CAAxD,CAAP;AAA2F,CAAlK;;AACAjB,oBAAoB,CAACkB,KAArB,GAA6B,aAAcrB,EAAE,CAACsB,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAEpB,oBAAT;AAA+BqB,EAAAA,OAAO,EAAErB,oBAAoB,CAACY,IAA7D;AAAmEU,EAAAA,UAAU,EAAE;AAA/E,CAAtB,CAA3C","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../database\";\nexport class CanActivateTeamGuard {\n    constructor(router, database) {\n        this.router = router;\n        this.database = database;\n        this.user = this.database.user;\n    }\n    async canActivate() {\n        let tag = await this.database.isLoggedIn(this.user).subscribe(val => {\n            console.log(val);\n        });\n        if (tag) {\n            return true;\n        }\n        else {\n            // this.router.navigate(['team'])\n            return false;\n        }\n    }\n}\nCanActivateTeamGuard.ɵfac = function CanActivateTeamGuard_Factory(t) { return new (t || CanActivateTeamGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.DataBase)); };\nCanActivateTeamGuard.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: CanActivateTeamGuard, factory: CanActivateTeamGuard.ɵfac, providedIn: 'root' });\n"]},"metadata":{},"sourceType":"module"}